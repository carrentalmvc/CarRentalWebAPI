@{
    ViewBag.Title = "Index";
}

<h2>This is the MVC4 View to support the Web API</h2>
@section styles{

    <link href="~/Content/WebApi.css" rel="stylesheet" />
}

@section scripts{

    <script src="~/Scripts/jquery.unobtrusive-ajax.js"></script>
    <script src="~/Scripts/Home/Index.js"></script>
    <script type="text/javascript">
        $(function () {

            selectView("summary");
            getData();
            
        });

</script>


}

<div id="summaryDisplay" class="display">
    <h4>Reservations</h4>
    <table>
        <thead>
            <tr>
                <th class="selectCol"></th>
                <th class="nameCol">Name</th>
                <th class="loctaionCol">Location</th>

            </tr>
        </thead>
        <tbody id="tableBody">
            <tr>
                <td colspan="3">.....The data is loading</td>
            </tr>
        </tbody>

    </table>

    <div id="buttonContainer">
        <button id="refresh">Refresh</button>
        <button id="add">Add</button>
        <button id="edit">Edit</button>
        <button id="delete">Delete</button>
    </div>

    <!-- Add new Reservation-->
    <div id="addDisplay" class="display">

        <h4>Add New Reservation</h4>
        @{
            
            AjaxOptions ajaxOptions = new AjaxOptions
            {
                HttpMethod = "POST",
                OnSuccess = "InsertSuccess",
                Url = "/api/Reservation"
            };
        }

        @using (Ajax.BeginForm(ajaxOptions))
        {
            @Html.Hidden("ReservavtionId", 0)
            <p>
                <label>Name:</label>@Html.Editor("ClientName")
            </p>
            <p>
                <label>Location:</label>@Html.Editor("Location")
            </p>
            <button type="submit">Submit</button>
        }

    </div>

    <!--Edit a Reservation -->
    <div id="editDisplay" class="display">
        <h4>Edit Reservation</h4>
        <!--Here we dont use the Ajax form.We will use the jquery AJAX library(Just for a variety) -->
        <form id="editForm">

            <input type="hidden" id="editReservationId" name="ReservationId" />
            <p>
                <label>Name:</label><input id="editClientName" name="ClientName" />
            </p>
            <p>
                <label>Location:</label><input id="editLocation" name="Location" />
            </p>
        </form>
        <button id="submitEdit" type="submit">Save</button>

    </div>


</div>

